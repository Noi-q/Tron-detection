# Tron 钱包管理系统

这是一个基于 Node.js 开发的 Tron 钱包管理系统，提供钱包数据监控和权限管理功能。

## 功能特点

### 1. 数据监控
- 实时监控钱包余额（TRX 和 USDT）
- 显示交易记录
- WebSocket 实时日志推送
- 自动刷新数据（每30秒）
- 支持手动刷新数据
- 日志自动滚动功能

### 2. 权限管理
- 修改钱包所有者权限
  - 支持最多5个所有者地址
  - 每个地址可设置权重
  - 可设置签名阈值
- 修改钱包管理者权限
  - 支持最多5个管理者地址
  - 每个地址可设置权重
  - 可设置签名阈值
- 记录权限修改历史
- 实时显示修改结果

## 技术栈

- 后端：
  - Node.js
  - Express.js
  - TronWeb
  - WebSocket

- 前端：
  - HTML5
  - CSS3
  - JavaScript
  - Bootstrap 5

## 安装步骤

1. 克隆项目
```bash
git clone https://github.com/Noi-q/Tron-detection.git
cd Tron-detection
```

2. 安装依赖
```bash
npm install
```

3. 配置环境变量
更改 `config_temp.js`改为`config.js` 文件并配置以下参数：
```
apiKeys: [],
ownerAddress: '', // 被签名地址
multisigAddress: '', // 签名地址
ownerPrivateKey: '', // 被签名地址私钥
signerPrivateKey: '', // 签名地址私钥
```

4. 启动服务
```bash
npm start
```

## 使用说明

### 数据监控页面

1. 访问 `http://localhost:8880/data.html`
2. 页面分为三个主要部分：
   - 控制按钮区：用于清除日志、控制自动滚动、刷新数据
   - 日志显示区：实时显示系统日志
   - 数据展示区：显示钱包余额和交易记录

### 权限管理页面

1. 访问 `http://localhost:8880/create-multisig.html`
2. 修改钱包权限：
   - 输入当前钱包地址和私钥
   - 添加新的所有者地址（最多5个）并设置权重
   - 添加新的管理者地址（最多5个）并设置权重
   - 设置所有者和管理者的签名阈值
   - 点击"修改权限"按钮提交

## 注意事项

1. 安全性
   - 请妥善保管私钥信息
   - 建议在本地环境使用
   - 不要在生产环境使用

2. 使用限制
   - 所有者和管理者地址数量上限为5个
   - 每个地址的权重必须大于等于1
   - 签名阈值不能大于总权重

3. 网络要求
   - 确保有稳定的网络连接
   - 需要能够访问波场网络
   - 建议使用代理或VPN

## 常见问题

1. WebSocket 连接断开
   - 系统会自动尝试重连
   - 检查网络连接是否正常
   - 确认服务器是否正常运行

2. 权限修改失败
   - 检查钱包地址格式是否正确
   - 确认私钥是否正确
   - 验证是否有足够的 TRX 支付交易费用

3. 数据不更新
   - 检查网络连接
   - 尝试手动刷新数据
   - 确认服务器是否正常运行

## 更新日志

### v1.0.0
- 初始版本发布
- 实现基本的数据监控功能
- 实现钱包权限管理功能

## 贡献指南

欢迎提交 Issue 和 Pull Request 来帮助改进项目。

## 许可证

MIT License